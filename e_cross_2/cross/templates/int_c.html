{% extends 'main.html' %}

{% block cross %}

<div class="c_base_w c_header tone1">
    <div class="c_header_nav">
        <h3>
        {% if s_type != '3' %}
            {{ s_p_id.parrent.parrent.parrent.name }} {{ s_p_id.parrent.parrent.parrent.house_num }},
            &nbsp;&nbsp;УД: {{ s_p_id.parrent.parrent.name }}, {{ s_p_id.parrent.name }}, порт: {{ s_p_id.num }}
            &nbsp;&#9658;&#9658;&#9658;&nbsp;
        {% else %}
            {{ s_p_id.parrent.parrent.parrent.name }} {{ s_p_id.parrent.parrent.parrent.house_num }},
            &nbsp;&nbsp;УД: {{ s_p_id.parrent.parrent.name }}, КРТ: {{ s_p_id.parrent.name }}-{{ s_p_id.parrent.num }}-{{ s_p_id.p_alias }}
            &nbsp;&#9658;&#9658;&#9658;&nbsp;
        {% endif %}
        </h3>
    </div>
</div>
<br>

<table class="c_base_w">
    <tr>
        <td class="tone2" width="1604px" align="center">
        
{% for ob1 in cr %}
    <br>
    <table>
    <caption>{{ ob1.name }}</caption>
    {% for ob2 in ob1.cr_p %}
        <tr>
        {% for ob3 in ob2 %}
            <td class="tone2">
                {% if ob3.3 == False %}
                    <input type="button" style="background:none; border-color:black; background-color:gray; color:white; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" title="{{ ob3.5 }} (неисправен)">
                {% elif ob3.2 == 0 %}
                    <input type="button" style="background:none; border-color:black; background-color: {{ ob3.4 }}; color:black; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" onClick='location.href="d_p={{ ob3.0 }}/d_type=1"' title="{{ ob3.5 }}">
                {% comment %} {% elif ob3.2 == 1 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob3.4 }}; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" title="{{ ob3.5 }}">
                {% elif ob3.2 == 2 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob3.4 }}; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" title="{{ ob3.5 }}">
                {% elif ob3.2 == 3 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob3.4 }}; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" title="{{ ob3.5 }}">
                {% elif ob3.2 == 4 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob3.4 }}; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" title="{{ ob3.5 }}"> {% endcomment %}
                {% else %}
                    <input type="button" style="background:none; border-color:black; background-color: {{ ob3.4 }}; border-radius:20px; width:30px; height:30px" value="{{ ob3.1 }}" title="{{ ob3.5 }}">
                {% endif %}
            </td>
        {% endfor %}   
        </tr>
    {% endfor %}
    </table>
{% endfor %}

        </td>
    </tr>
</table>
<br>

<table class="c_base_w">
    <tr>
        <td class="tone2" width="1604px" align="center">

{% for ob1 in dev %}
    <br>
    <table>
    <caption>
        <b><img src="{{ ob1.pic }}" alt=" " title="" width="22">&nbsp&nbsp{{ ob1.name }}</b>&nbsp&nbsp({{ ob1.ip_addr }})
    </caption>
        <tr>
        {% for ob2 in ob1.dev_p %}
            <td class="tone2">
                {% if ob2.p_valid == False %}
                    <input type="button" style="background:none; border-color:black; background-color:gray; color:white; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" title="{{ ob2.p_alias }} ▲ {{ ob2.prim }} (неисправен)">
                {% elif ob2.int_c_status == 0 %}
                    <input type="button" style="background:white; border-color:black; color:black; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" onClick='location.href="d_p={{ ob2.id }}/d_type=2"' title="{{ ob2.p_alias }} ▲ {{ ob2.prim }}">
                {% comment %} {% elif ob2.int_c_status == 1 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob2.color }}; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" title="{{ ob2.p_alias }} ▲ {{ ob2.prim }}">
                {% elif ob2.int_c_status == 2 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob2.color }}; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" title="{{ ob2.p_alias }} ▲ {{ ob2.prim }}">
                {% elif ob2.int_c_status == 3 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob2.color }}; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" title="{{ ob2.p_alias }} ▲ {{ ob2.prim }}">
                {% elif ob2.int_c_status == 4 %}
                    <input type="button" style="background:none; border-color:black; background-color:{{ ob2.color }}; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" title="{{ ob2.p_alias }} ▲ {{ ob2.prim }}"> {% endcomment %}
                {% else%}
                    <input type="button" style="background:none; border-color:black; background-color: {{ ob2.color }}; border-radius:8px; width:30px; height:30px" value="{{ ob2.num }}" title="{{ ob2.p_alias }} ▲ {{ ob2.prim }}">
                {% endif %}
            </td>
        {% endfor %}
        </tr>
    </table>
{% endfor %}

        </td>
    </tr>
</table>
<br>

<table class="c_base_w">
    <tr>
        <td class="tone2" width="1604px" align="left">

{% for ob1 in box %}
    <table>
        <tr class="tone2">
            <td align="right" width="60px">
                <b>{{ ob1.name }}-{{ ob1.num }}&nbsp>&nbsp</b>
            </td>
        {% for ob2 in ob1.box_p %}
            <td>
                {% if ob2.p_valid == False %}
                    <input type="button" style="background:none; border-color: {{ ob2.COLOR_PLINT }}; background-color:gray; color:white; border-radius:4px; width:42px; height:24px" value="{{ ob2.pair }}" title="(неисправен)">
                {% elif ob2.up_status == 0 %}
                    <input type="button" style="background:none; border-color: {{ ob2.COLOR_PLINT }}; color:black; border-radius:4px; width:42px; height:24px" value="{{ ob2.pair }}" onClick='location.href="d_p={{ ob2.id }}/d_type=3"'>
                {% comment %} {% elif ob2.up_status == 1 %}
                    <input type="button" style="background:none; border-color:{{ ob2.COLOR_PLINT }}; background-color:{{ ob2.COLOR_CROSS }}; border-radius:4px; width:42px; height:24px" value="{{ ob2.pair }}">
                {% elif ob2.up_status == 2 %}
                    <input type="button" style="background:none; border-color:{{ ob2.COLOR_PLINT }}; background-color:{{ ob2.COLOR_CROSS }}; border-radius:4px; width:42px; height:24px" value="{{ ob2.pair }}">
                {% elif ob2.up_status == 3 %}
                    <input type="button" style="background:none; border-color:{{ ob2.COLOR_PLINT }}; background-color:{{ ob2.COLOR_CROSS }}; border-radius:4px; width:42px; height:24px" value="{{ ob2.pair }}"> {% endcomment %}
                {% else %}
                    <input type="button" style="background:none; border-color: {{ ob2.COLOR_PLINT }}; background-color:{{ ob2.COLOR_CROSS }}; border-radius:4px; width:42px; height:24px" value="{{ ob2.pair }}">
                {% endif %}
            </td>
        {% endfor %}
        </tr>
    </table>
{% endfor %}

        </td>
    </tr>
</table>
<br>

<div class="c_base_w c_footer t_footer">
    <div class="c_footer_nav"></div>
    <div class="c_footer_nav">
        <input type="button" value="отмена" onClick='location.href="../../"'>
    </div>
</div>

{% endblock %}