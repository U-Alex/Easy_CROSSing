{% extends 'find_start.html' %}

{% block result %}

{% if str_list %}

<div class="res_header">
    <div class="res_header_left"></div>
    <div class="tone2 res_header_center">
        <p>ул: {{ str_list.0.name }} &nbsp;&#10148;&#10148;&#10148;&nbsp;
        <i>найденные здания &nbsp;&#9660;&#9660;&#9660;</i></p>
    </div>
    <div class="res_header_right"></div>
</div>

<div class="c_base_w res_bu">
    <div class="res_l"><img src="/static/images/sks2.png" alt="" title=""></div>
    <div class="res_cards">
    {% for ob in str_list %}
        <div class="res_item {% if ob.double_id %} tone_gray {% else %} tone2 {% endif %}">
            <div class="h_num"><label>{{ ob.house_num }}</label></div>
            <div class="lo_list">
            {% for ob2 in ob.lo %}
                <div class="{% if ob2.0 %} _lo_st_find_agr _agr {% else %} _lo_st_find_{{ ob2.2 }}
                            {% if ob2.1 %} _det {% else %} _lo {% endif %} {% endif %}">
                    &nbsp;</div>
            {% endfor %}
            </div>
            <a class="_link" href="/cross/build={{ ob.id }}/"></a>
        </div>
    {% endfor %}
    </div>
    <div class="res_r"></div>
</div>

{% elif agr %}

<div class="res_header">
    <div class="res_header_left"></div>
    <div class="tone2 res_header_center">
        <p>агрегации &nbsp;&#9660;&#9660;&#9660;</p>
    </div>
    <div class="res_header_right"></div>
</div>

<div class="c_base_w res_agr">
    <div class="res_l"><img src="/static/images/_cross2.png" alt="" title=""></div>
    <div class="res_cards">
    {% for ob in agr %}
        <div class="res_item tone2">
            <div class="co"><label>{{ ob.co }}</label></div>
            <a class="_link" href="/cross/build={{ ob.parrent_id }}/locker={{ ob.id }}/"></a>
        </div>
    {% endfor %}
    </div>
    <div class="res_r"></div>
</div>

{% elif txt %}

    <div class="res_header">
        <div class="res_header_left"></div>
        <div class="tone2 res_header_center">
            <p>активное оборудование: <label class="color_link2">{{ param }} - {{ txt }}</label></p>
        </div>
        <div class="res_header_right"></div>
    </div>
        
    {% if dev_list %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>devices</i></caption>
        {% for ob in dev_list %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.name }} {{ ob.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.id }}/locker={{ ob.parrent.id }}/dev={{ ob.id }}/" target="_blank">&nbsp&nbsp<b>{{ ob.name }}</b>&nbsp&nbsp</a>
                </td>
                <td width="30px" align="center"></td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    
    {% if dev_list_f %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>physics interfaces</i></caption>
        {% for ob in dev_list_f %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.parrent.name }} {{ ob.parrent.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.parrent.id }}/locker={{ ob.parrent.parrent.id }}/dev={{ ob.parrent.id }}/l2=1/" target="_blank">&nbsp&nbsp<b>{{ ob.parrent.name }}&nbsp&nbsp{{ ob.p_alias }}</b>&nbsp&nbsp</a>
                </td>
                <td width="30px" align="center">
                    {% if ob.shut %}<img src="/static/images/shut_1.png" alt="sh" title="shutdown" height="12">{% endif %}
                </td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    
    {% if dev_list_v %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>virtual interfaces</i></caption>
        {% for ob in dev_list_v %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.parrent.name }} {{ ob.parrent.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.parrent.id }}/locker={{ ob.parrent.parrent.id }}/dev={{ ob.parrent.id }}/l2=1/" target="_blank">&nbsp&nbsp<b>{{ ob.parrent.name }}&nbsp&nbsp{{ ob.p_alias }}</b>&nbsp&nbsp</a>
                </td>
                <td width="30px" align="center">
                    {% if ob.shut %}<img src="/static/images/shut_1.png" alt="sh" title="shutdown" height="12">{% endif %}
                </td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}

    {% if dev_list_tag %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>physics interfaces <b>tagged vlan</b></i></caption>
        {% for ob in dev_list_tag %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.parrent.name }} {{ ob.parrent.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.parrent.id }}/locker={{ ob.parrent.parrent.id }}/dev={{ ob.parrent.id }}/l2=1/" target="_blank">&nbsp&nbsp<b>{{ ob.parrent.name }}&nbsp&nbsp{{ ob.p_alias }}</b>&nbsp;&nbsp;</a>
                </td>
                <td width="30px" align="center">
                    {% if ob.shut %}<img src="/static/images/shut_1.png" alt="sh" title="shutdown" height="12">{% endif %}
                </td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    
    {% if su_list %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>subunit devices </b></i></caption>
        {% for ob in su_list %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.name }} {{ ob.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.id }}/locker={{ ob.parrent.id }}/" target="_blank">&nbsp;&nbsp;<b>{{ ob.name }}</b>&nbsp;&nbsp;</a>
                </td>
                <td width="30px" align="center"></td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}

{% endif %}

{% endblock %}