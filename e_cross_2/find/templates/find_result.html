{% extends 'find_start.html' %}

{% block result %}
{% if str_list %}

    <div class="res_header">
        <div class="res_header_left"></div>
        <div class="tone2 res_header_center">
            <p>ул: {{ str_list.0.name }} &nbsp;&#10148;&#10148;&#10148;&nbsp;
            <i>найденные здания &nbsp;&#9660;&#9660;&#9660;</i></p>
        </div>
        <div class="res_header_right"></div>
    </div>

        <table class="c_base_w tone1">
            <tr>
                <td width="140px" align="center">
                    <img src="/static/images/sks2.png" alt="" title="" width="100">
                </td>
                <td width="1000px" align="center">

                {% for ob in str_list %}
                    <button onClick='location.href="/cross/build={{ ob.id }}/"'
                            {% if ob.double_id %} style="background: gray" {% endif %}
                            class="t_header1"
                            >
                        <table class="t_header1" width="150px" {% if ob.double_id %} style="background: gray"{% endif %}>
                            <tr><td colspan="30"></td></tr>
                            <tr>
                                <td colspan="30">
                                    <b><font size="3">{{ ob.house_num }}</font></b>
                                </td>
                            </tr>
                            <tr><td colspan="30"></td></tr>
                            <tr height="7px">
                            {% for ob2 in ob.lo %}
                                <td width="1px" style="background:none"></td>
                                <!--<td width={% if ob2.1 %} "16%" {% elif ob2.2 %} "4%" {% else %} "8%" {% endif %}-->
                                <td width={% if ob2.1 %} "20px" {% elif ob2.2 %} "3px" {% else %} "8px" {% endif %}
                                    style="background: {% if ob2.1 %} cyan {% else %} {{ ob2.0 }} {% endif %}">
                                </td>
                            {% endfor %}
                                <td style="background:none"></td>
                            </tr>
                            <tr><td colspan="30"></td></tr>
                            <tr><td colspan="30"></td></tr>
                        </table>
                    </button>
                {% endfor %}

                </td>
                <td width="160px" align="center">&nbsp;</td>
            </tr>
        </table>

{% elif agr %}

    <div class="res_header">
        <div class="res_header_left"></div>
        <div class="tone2 res_header_center">
            <p>список агрегаций &nbsp;&#9660;&#9660;&#9660;</p>
        </div>
        <div class="res_header_right"></div>
    </div>
        
        <table class="c_base_w tone1">
            <caption>&nbsp;</caption>
            <tr>
                <td width="100px" align="center">
                    <img src="/static/images/stat3.png" alt="" title="" height="60">
                </td>
                <td width="1150px" align="center">
                {% for ob in agr %}
                    <input type="button" 
                                 enabled="1"
                                 value="{{ ob.co }}"
                                 onClick='location.href="/cross/build={{ ob.parrent_id }}/locker={{ ob.id }}"'
                                 style="width:70px; height:30px;"
                                 >&nbsp;
                {% endfor %}
                </td>
                <td width="10px" align="center">&nbsp;</td>
            </tr>
        </table>
        
{% elif txt %}

    <div class="res_header">
        <div class="res_header_left"></div>
        <div class="tone2 res_header_center">
            <p>активное оборудование: <label class="color_link2">{{ param }} - {{ txt }}</label></p>
        </div>
        <div class="res_header_right"></div>
    </div>
        
    {% if dev_list %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>devices</i></caption>
        {% for ob in dev_list %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.name }} {{ ob.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.id }}/locker={{ ob.parrent.id }}/dev={{ ob.id }}/" target="_blank">&nbsp&nbsp<b>{{ ob.name }}</b>&nbsp&nbsp</a>
                </td>
                <td width="30px" align="center"></td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    
    {% if dev_list_f %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>physics interfaces</i></caption>
        {% for ob in dev_list_f %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.parrent.name }} {{ ob.parrent.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.parrent.id }}/locker={{ ob.parrent.parrent.id }}/dev={{ ob.parrent.id }}/l2=1/" target="_blank">&nbsp&nbsp<b>{{ ob.parrent.name }}&nbsp&nbsp{{ ob.p_alias }}</b>&nbsp&nbsp</a>
                </td>
                <td width="30px" align="center">
                    {% if ob.shut %}<img src="/static/images/shut_1.png" alt="sh" title="shutdown" height="12">{% endif %}
                </td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    
    {% if dev_list_v %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>virtual interfaces</i></caption>
        {% for ob in dev_list_v %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.parrent.name }} {{ ob.parrent.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.parrent.id }}/locker={{ ob.parrent.parrent.id }}/dev={{ ob.parrent.id }}/l2=1/" target="_blank">&nbsp&nbsp<b>{{ ob.parrent.name }}&nbsp&nbsp{{ ob.p_alias }}</b>&nbsp&nbsp</a>
                </td>
                <td width="30px" align="center">
                    {% if ob.shut %}<img src="/static/images/shut_1.png" alt="sh" title="shutdown" height="12">{% endif %}
                </td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}

    {% if dev_list_tag %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>physics interfaces <b>tagged vlan</b></i></caption>
        {% for ob in dev_list_tag %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.parrent.name }} {{ ob.parrent.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.parrent.id }}/locker={{ ob.parrent.parrent.id }}/dev={{ ob.parrent.id }}/l2=1/" target="_blank">&nbsp&nbsp<b>{{ ob.parrent.name }}&nbsp&nbsp{{ ob.p_alias }}</b>&nbsp;&nbsp;</a>
                </td>
                <td width="30px" align="center">
                    {% if ob.shut %}<img src="/static/images/shut_1.png" alt="sh" title="shutdown" height="12">{% endif %}
                </td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    
    {% if su_list %}
    <br>
        <table class="c_base_w" border="1">
            <caption><i>subunit devices </b></i></caption>
        {% for ob in su_list %}
            <tr>
                <td width="490px">
                    ул: {{ ob.parrent.parrent.name }} {{ ob.parrent.parrent.house_num }}&nbsp;&nbsp;УД: {{ ob.parrent.name }}
                    <a href="/cross/build={{ ob.parrent.parrent.id }}/locker={{ ob.parrent.id }}/" target="_blank">&nbsp;&nbsp;<b>{{ ob.name }}</b>&nbsp;&nbsp;</a>
                </td>
                <td width="30px" align="center"></td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}

{% endif %}

{% endblock %}